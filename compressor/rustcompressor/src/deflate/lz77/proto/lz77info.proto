syntax = "proto3";

package LZ77;

message Literal {
    uint32 value = 1;
}

message Backref {
    uint32 length = 1;
    uint32 distance = 2;
}

message OffsetBackref {
    uint32 offset = 1;
    uint32 length = 2;
    uint32 distance = 3;
}

message DeflateSym {
    oneof sym {
        Literal lit = 1;
        Backref backref = 2;
        OffsetBackref offset = 3;
    }
}

message Compressed {
    bytes rawbytes = 2;
    repeated DeflateSym syms = 1;
}